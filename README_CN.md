# TimePics.ai (时相机) - 渲染任意时刻

<div align="center">

![TimePics.ai](https://img.shields.io/badge/AI-Powered-blue)
![Status](https://img.shields.io/badge/Status-MVP%E5%AE%8C%E6%88%90-success)
![Solana](https://img.shields.io/badge/Solana-Devnet-9945FF?logo=solana)

**全球首个 AI 驱动的"视觉时间机器" - 借助 AI 生成的视觉内容捕捉过去、平行宇宙和未来。**

[English](README.md) | [中文](README_CN.md)

</div>

---

## 🎯 什么是 TimePics.ai?

TimePics.ai 是全球首个 **AI 驱动的预测市场 + NFT 竞技场** - 一款革命性的 Web3 应用,用户不仅能创建 AI 图像,还能 **在时间线上下注、质押 NFT、争夺奖励**,参与去中心化的历史战争。

受 **Polymarket 下注机制**启发,TimePics 将 AI 生成的图像转化为可交易资产,在社区驱动的时间线战争中角逐霸权。生成跨时间图像、铸造为进化 NFT、质押派系、拉票获胜、赢得真实的 SOL 奖励。

**口号:** "渲染任意时刻。永久拥有。押注历史。"

---

## ✨ 核心功能

### 三大时间引擎

#### 1️⃣ **回溯引擎 (Rewind Engine)** - 修复过去
- 🔍 **AI 超分辨率**: 将 144p 模糊照片提升至 4K 清晰度
- 🎬 **照片动态化**: 将静态图像转换为 3-5 秒微动视频
- 🕰️ **时代风格迁移**: 将现代照片转换为 1920s/1980s/2000s 美学
- 🖼️ **图像外延**: 扩展原始画面之外的场景

**使用场景:** *"我有一张 30 年前和爷爷的合影。太模糊了看不清他的笑容。我想看看他那天的表情。"*

#### 2️⃣ **折射引擎 (Refract Engine)** - 探索平行宇宙
- 🌍 **历史重构**: 生成替代历史场景
- 👤 **人脸融合**: 将你自己植入历史事件
- 🔀 **多重时间线**: 从单一事件可视化不同结果

**使用场景:** *"如果恐龙没有灭绝?2024 年的东京会是什么样?"*

**内容 IP:** 每日"B 时间线上的今天" - 展示替代历史图像

#### 3️⃣ **预见引擎 (Foresee Engine)** - 可视化未来
- ✨ **个人愿景**: 在梦想场景中生成"未来的你"
- 👴 **年龄进展**: 看看你在 30/50/70 岁时的样子
- 🚀 **未来快照**: 生成任何未来年份的场景

**使用场景:** *"生成一张 2050 年我和伴侣金婚纪念日的照片,背景是火星殖民地。"*

---

## ⚔️ **时间线战争 (Timeline Wars)** - 改变游戏规则的核心功能

### 🎮 AI 历史上最革命性的社交游戏层

**时间线战争**将 TimePics.ai 从内容创作工具转变为 **去中心化预测市场 + 社交 NFT 竞技场**。

### 运作机制

#### 📊 **1. 押注历史与未来**
类似 Polymarket 的二元市场,用户可以:
- 创建或加入竞争的时间线场景(例如"1850年蒸汽革命" vs "1850年生物创世纪")
- 设置战斗持续时间(24小时、7天、30天)
- 定义奖池最低额(1 SOL - 100 SOL)
- 每场战斗有两个对立派系争夺主导权

#### 🎨 **2. 将 NFT 作为下注仓位质押**
用户不是简单的"是/否"下注,而是:
- 使用时间引擎生成派系主题的 AI 图像
- 将图像铸造为"活NFT"(0.1 SOL + 铸造费)
- **质押 NFT = 你对该时间线派系的押注**
- 每个 NFT 都有基于以下因素计算的**战力值**:
  - **新鲜度**(0-100% 熵):新鲜 = 更多战力
  - **引擎类型**:折射引擎(+20%)、回溯引擎(+10%)、预见引擎(+5%)
  - **年龄**:较老的 NFT 随时间失去战力
  - **社区投票**:每个赞成票 = +5% 战力提升

#### 💰 **3. NFT 交易与二级市场**
创造真实的经济活动:
- **质押你的 NFT** = 锁定在一个派系中(战斗后可取回)
- **交易质押仓位**:其他用户可以在战斗中途购买你质押的 NFT
  - 价格由以下因素决定:当前派系获胜概率 + NFT 战力
  - 示例:如果你的派系正以 70-30 获胜,你的 NFT 价值 ↑ 40%
- **投机交易**:便宜买入弱势派系的 NFT,如果他们获胜则获利
- **市场费用**:所有交易收取 2.5% → 平台收入

#### 🗳️ **4. 拉票与社交战争**
最重要的机制 - **社区投票决定胜者**:

**投票系统:**
- 每个钱包每场战斗**每天获得 1 次免费投票**
- Pro 用户每场战斗**每天获得 5 次投票**
- 选民还可以**购买额外投票**(0.01 SOL = 10 票)
- 投票按**选民声誉加权**(长期用户 = 更多影响力)

**社交放大:**
- **在 Twitter/Discord 上分享派系 Blinks**:直接质押按钮
- **招募队友**:如果你的派系获胜,获得他们奖励的 10%
- **组织投票活动**:在 Discord/Telegram 中协调大规模投票
- **创作内容**:最佳派系 meme/视频赚取奖金奖励

**投票战力公式:**
```
你的派系战力 =
  (所有质押 NFT 战力总和) ×
  (1 + 0.05 × 总社区投票数) ×
  (1 + 社交参与度乘数)
```

#### 🏆 **5. 战斗结算与奖励分配**

当战斗结束时(倒计时归零):

**获胜派系(总战力更高):**
- **奖池的 70%** 按 NFT 战力比例分配
  - 示例:你质押了 100 战力,派系总战力 = 10,000
  - 你获得:70% × 奖池 × (100/10,000) = 奖池的 0.7%
- **"正史 NFT 徽章"**:永久视觉升级
- **获胜者交易奖励**:7 天内 0% 交易费

**失败派系:**
- **取回质押的 NFT**(无 SOL 奖励)
- **"悖论时间线徽章"**:故障艺术效果(实际上对收藏家很有吸引力!)
- **选民安慰奖**:投票最多的前 10 个 NFT 获得奖池的 5%

**所有选民(双方):**
- **奖池的 20%** 分配给所有选民
  - 获胜方选民:选民池的 70%(2x 乘数)
  - 失败方选民:选民池的 30%
  - 计算方式:`(你的票数 / 总票数) × 选民池 × 方乘数`

**平台抽成:**
- **奖池的 10%** → TimePics.ai 金库
- 资助开发、营销、创作者赠款

### 💰 经济博弈论

**与 Polymarket 对比:**

| 功能 | Polymarket | TimePics 时间线战争 |
|------|-----------|-------------------|
| **下注媒介** | USDC | NFT(AI 生成图像) |
| **市场创建** | 无需许可 | Pro 用户可创建派系 |
| **仓位交易** | 是(买卖份额) | 是(交易质押的 NFT) |
| **结算预言机** | UMA 协议 | 社区投票(去中心化) |
| **流动性** | 自动做市商 | 订单簿 + 点对点 |
| **社交层** | 最小 | 核心机制(拉票) |
| **内容创作** | 无 | 内置 AI 生成引擎 |

**为什么这种模式有效:**

1. **利益相关**: 不同于"点赞",用户质押真实价值(NFT 铸造成本 + 潜在奖励)
2. **网络效应**: 更多质押者 = 更大奖池 = 更多关注 = 病毒式增长
3. **创作者激励**: 派系创作者从所有押注中赚取 5% → 有动力推广他们的时间线
4. **投机机会**: 聪明的交易者可以通过早期买入弱势 NFT 获利
5. **社区所有权**: 选民对"正史"结果有归属感

### 📊 战斗场景示例

**战斗:"如果特斯拉赢得电流战争?"**

**时间线 A:"交流电主导(真实历史)"**
- 派系创建者:@历史爱好者420(从所有质押中赚取 5%)
- 质押 NFT 总数:234 个(平均战力:75)
- 总战力:17,550
- 质押 SOL 总额:23.4 SOL(每个铸造 0.1)
- 社区投票:1,247 票(+62% 战力乘数)
- **最终战力**: 17,550 × 1.62 = 28,431

**时间线 B:"直流电获胜(替代历史)"**
- 派系创建者:@蒸汽朋克粉丝
- 质押 NFT 总数:189 个(平均战力:82)
- 总战力:15,498
- 质押 SOL 总额:18.9 SOL
- 社区投票:2,103 票(+105% 战力乘数)
- **最终战力**: 15,498 × 2.05 = 31,771 ✅ **获胜者**

**奖励分配(总奖池:42.3 SOL):**

**时间线 B 获胜者:**
- 奖池(70%):29.61 SOL
  - 按比例分配给 189 个 NFT 质押者
  - 最高质押者(120 战力):~0.11 SOL
  - 平均质押者(82 战力):~0.08 SOL

**所有选民:**
- 选民奖励(20%):8.46 SOL
  - 时间线 B 选民(2,103):70% = 5.92 SOL
  - 时间线 A 选民(1,247):30% = 2.54 SOL

**派系创建者:**
- @蒸汽朋克粉丝:5% × 18.9 SOL = 0.95 SOL
- @历史爱好者420:5% × 23.4 SOL = 1.17 SOL

**平台:**
- 金库(10%):4.23 SOL

### 🚀 为什么时间线战争对成功至关重要

**1. 解决"AI 工具问题"**
- 大多数 AI 生成器:一次性使用 → 无留存
- 时间线战争:持续参与 → 下注 → 投票 → 交易

**2. 创造真实的网络效应**
- 更多用户 = 更大奖池 = 吸引更多用户(飞轮)
- 病毒式循环:分享派系 → 招募朋友 → 增加获胜机会

**3. 多种收入来源**
- NFT 铸造费(2-10 美元的 30%)
- 交易市场费(2.5%)
- 平台抽成(奖池的 10%)
- Pro 订阅(无限派系创建)

**4. 用户生成内容营销**
- 每个派系 = 创建者的营销活动
- 病毒式推文、Discord 突袭、meme 战争 = 免费推广
- "时间线战争戏剧"创造新闻报道

**5. 投机交易创造流动性**
- NFT 交易者寻找"被低估的时间线"
- 战斗中交易 = 持续的市场活动
- FOMO 效应:"那个派系正在领先,现在买入!"

### 📈 成功指标(90 天预测)

- **活跃战斗**: 50+ 场同时进行的时间线战争
- **质押 NFT 总数**: 25,000+ 个仓位
- **奖池总量**: 50 万美元以上的 SOL
- **二级交易**: 20 万美元以上的 NFT 销售
- **平台收入**: 7 万美元以上(费用 + 订阅)
- **社交提及**: 10 万以上的 #TimelineWars 推文

---

## 🧬 活 NFT 与熵系统

你的 NFT 不是静态的 JPEG - 它们**随时间进化**:

- **📅 生存天数**: 追踪你的 NFT 存在了多久
- **🌀 熵(0-100%)**: 视觉老化系统
  - 新鲜(0-19%):原始质量,鲜艳色彩
  - 老化(20-49%):颜色去饱和,轻微颗粒
  - 衰变(50-79%):可见老化,复古滤镜
  - 古老(80-100%):严重失真,故障艺术
- **🔒 冻结**: 永久锁定 NFT 在当前状态
- **⚡ 加速**: 快进以查看未来老化

---

## 🎁 每日时空胶囊

基于谜题的每日游戏,增加参与度:

- 每 24 小时一张新的神秘图像
- 通过关键词猜测解锁
- 锁定内容带噪声动画
- LocalStorage 持久化
- 下一个胶囊的倒计时

---

## 🔗 Solana Blinks 集成

在社交媒体上分享互动式区块链链接:

- 直接在 Twitter 上分享 NFT 并附铸造按钮
- 分享时间线战争战斗并附质押按钮
- 从社交平台一键执行区块链操作
- 无需离开 Twitter 即可与区块链互动
- **病毒式分享 = 为你的派系招募选民**

---

## 🚀 快速开始

### 前置条件

- **Node.js 18+** 和 npm
- **Solana 钱包**(Phantom、Solflare 等) - 用于 NFT 铸造
- **API 密钥**:
  - [Google Gemini API](https://ai.google.dev/) - 用于 AI 图像生成 ✅ **必需**
  - [Pinata API Keys](https://pinata.cloud) - 用于 IPFS 存储 ⚡ **推荐**

### 安装

1. **克隆仓库**
   ```bash
   git clone https://github.com/x2v-co/timepics.git
   cd timepics
   ```

2. **安装依赖**
   ```bash
   npm install
   ```

3. **配置环境变量**

   创建 `.env.local` 文件:
   ```bash
   cp .env.example .env.local
   ```

   使用你的密钥编辑 `.env.local`:
   ```env
   # AI 生成(必需)
   GEMINI_API_KEY=your_gemini_api_key_here

   # Solana 配置
   NEXT_PUBLIC_SOLANA_NETWORK=devnet
   SOLANA_RPC_URL=https://api.devnet.solana.com

   # 通过 Pinata 的 IPFS 存储(推荐用于 NFT 铸造)
   PINATA_API_KEY=your_pinata_api_key_here
   PINATA_SECRET_KEY=your_pinata_secret_key_here
   ```

4. **运行开发服务器**
   ```bash
   npm run dev
   ```

5. **在浏览器中打开**
   ```
   http://localhost:3000
   ```

---

## 🛠️ 技术栈

### 前端
- **框架**: Next.js 14 (App Router)
- **语言**: TypeScript
- **样式**: Tailwind CSS + shadcn/ui
- **动画**: Framer Motion

### AI 与生成
- **AI 提供商**: Google Gemini (Imagen 3)
- **图像格式**: JPEG, Base64
- **质量**: 标准 (1K) 和 HD (4K)

### 区块链
- **网络**: Solana (Devnet/Mainnet)
- **钱包**: @solana/wallet-adapter (Phantom、Solflare 等)
- **NFT 标准**: Metaplex Token Metadata
- **操作**: Solana Blinks/Actions API

### 存储
- **IPFS**: Pinata (专业 IPFS 固定服务)
- **网关**: https://gateway.pinata.cloud
- **格式**: 基于 CID 的内容寻址

---

## 🎮 如何使用

### 1. 生成图像

访问 **http://localhost:3000/generate**

1. 选择一个时间引擎(回溯、折射或预见)
2. 输入你的提示词(或使用 AI 建议)
3. 选择选项:
   - **时代**: 1900s、1920s、1950s、1980s、2000s 或自定义
   - **长宽比**: 1:1、16:9、9:16、4:3、3:4
   - **质量**: 标准(更快)或 HD(更高质量)
4. 点击"生成图像"
5. 等待 20-30 秒进行 AI 生成
6. 下载、分享或铸造为 NFT

### 2. 铸造活 NFT

生成图像后:

1. 连接你的 Solana 钱包(推荐 Phantom)
2. 点击"铸造为 NFT"
3. 确认交易(devnet 上 0.1 SOL)
4. 查看成功模态框,包含:
   - 铸造地址
   - IPFS 链接(图像 + 元数据)
   - Solana Explorer 链接
5. 导航至画廊或时间线战争

### 3. 管理活 NFT

访问 **http://localhost:3000/gallery**

你的 NFT 随时间演化,带有熵系统:

**熵等级:**
- **新鲜(0-19%)**: 🟢 原始质量,鲜艳
- **老化(20-49%)**: 🟡 轻微褪色,颜色偏移
- **衰变(50-79%)**: 🟠 可见老化,颗粒纹理
- **古老(80-100%)**: 🔴 严重失真,故障艺术

**控制操作:**
- **🔒 冻结**: 锁定 NFT 在当前状态(不可逆!)
- **⚡ 加速**: 快进老化(+20% 熵)
- **🔗 分享 Blink**: 在 Twitter 上分享,带交互式铸造按钮

### 4. 时间线战争(核心功能 - 预测市场玩法)

访问 **http://localhost:3000/timeline-wars**

**完整的下注和竞争流程:**

#### 步骤 1: 浏览活跃战斗
- 查看所有实时时间线战争及实时统计
- 查看奖池、派系战力、剩余时间
- 检查当前获胜概率(例如 65% vs 35%)
- 筛选:即将结束 / 最高奖池 / 最多投票

#### 步骤 2: 选择你的派系
- 研究两条时间线(阅读描述,查看质押的 NFT)
- 检查派系创建者的声誉和记录
- 分析战力分布和投票趋势
- **策略提示**: 早期加入弱势方 = 更高潜在回报

#### 步骤 3: 生成并铸造派系 NFT
1. 点击"加入[派系名称]" → 重定向至生成页面
2. 自动填充与派系主题匹配的提示词
3. 自定义并生成 AI 图像(20-30 秒)
4. 铸造为 NFT(0.1 SOL + gas 费)
5. **你的 NFT 战力立即计算**,基于:
   - 引擎类型(折射 = 最强)
   - 新鲜度(新鲜 = 100 战力,古老 = 20 战力)
   - HD 生成的质量奖励

#### 步骤 4: 质押你的赌注
1. 返回时间线战争页面
2. 在你选择的派系卡上点击"质押 NFT"
3. 从钱包中选择 NFT(显示战力分数)
4. 确认交易(0.01 SOL 质押费)
5. **你的质押现已生效** - 为派系战力做出贡献
6. 观看你的仓位价值实时更新

#### 步骤 5: 拉票你的社区(关键!)
**这是你赢或输的地方:**

**A. 分享派系 Blinks**
- 点击"分享派系"按钮
- 自动生成 Solana Blink URL
- 在 Twitter 上发布:"在时间线战争中加入我的派系![Blink URL]"
- 任何点击的人都可以直接从 Twitter 质押
- **如果派系获胜,你从他们的奖励中赚取 10%**

**B. 组织投票活动**
- 在 Discord/Telegram 中分享战斗页面
- 创建派系主题的 meme 和视频
- 主持"投票派对" - 协调大规模投票
- **提醒**: 投票 = 每票 +5% 战力 = 关键优势

**C. 购买额外投票**
- 免费用户:每场战斗每天 1 票
- Pro 用户:每场战斗每天 5 票
- 购买投票包:0.01 SOL = 10 票
- 策略投票:等到最后几小时反击敌方投票

#### 步骤 6: 监控与交易
**活跃战斗管理:**

**观看实时统计仪表板:**
- 派系战力对比(每 30 秒更新)
- 最近质押和投票活动信息流
- 获胜概率图表(历史 + 当前)
- 战斗结算倒计时

**战斗中交易你的仓位:**
- 如果你的派系正在获胜,你可以溢价出售 NFT
- 示例:质押了 0.1 SOL,派系现在 70% 获胜 → 以 0.15 SOL 出售 NFT
- 如果失败,在战斗结束前通过出售减少损失

#### 步骤 7: 战斗结算与奖励

**当倒计时归零时:**

**如果你的派系获胜 🏆**
1. **领取 SOL 奖励**(奖池的 70% 按战力分配)
   - 点击"领取奖励"按钮
   - 计算你的份额:`你的战力 / 派系总战力 × 70% × 奖池`
   - 在领取前在 UI 中显示示例计算
   - 资金直接发送到你的钱包

2. **获得"正史"徽章**
   - 你的 NFT 获得永久金色边框叠加
   - 链上元数据更新,带获胜徽章
   - NFT 在二级市场的价值增加(历史意义)

**如果你的派系失败 😔**
1. **取回你的 NFT**(无 SOL 奖励,但你保留 NFT)
2. **获得"悖论时间线"徽章**
   - 应用故障艺术视觉效果
   - 实际上对收藏家很有吸引力(稀有美学)

**选民奖励(所有参与者):**
- 奖池的 20% 分配给所有选民
- 获胜方选民:选民池的 70%(2x 乘数)
- 失败方选民:选民池的 30%

**奖励计算示例:**
```
战斗:"特斯拉的直流电 vs 爱迪生的交流电"
你的派系:直流电(获胜者 ✅)
你的质押:3 个 NFT(总战力:240)
你的投票:50 票
总奖池:100 SOL

质押奖励:
70 SOL × (240 / 30,000 派系总战力) = 0.56 SOL

投票奖励:
20 SOL × 0.70(获胜方) × (50 / 5,000 总票数) = 0.14 SOL

总收益:0.70 SOL(0.1 SOL 铸造成本的 7 倍回报!)
```

---

## 💼 商业模式

### 三层货币化

| 计划 | 价格 | 功能 |
|------|------|------|
| **免费** | ¥0 | 5 次生成/天,720p,带水印,时间线战争中 1 票/天 |
| **Pro** | ¥98/月 | 无限生成,4K,无水印,创建时间线,10 次 NFT 铸造/月 |
| **创作者** | ¥328/月 | 所有 Pro 功能 + API 访问,无限 NFT 铸造,时间线收入分成 |

### 额外收入来源
- **NFT 铸造费**: 每次铸造 ¥14-70(30% 平台费)
- **交易费**: 所有二级市场交易的 2.5%
- **市场抽成**: 所有时间线战争奖池的 10%
- **企业 API**: B2B 客户的定制定价

**收入预测(第 1 年)**
- 订阅: ¥1680 万(2 万 Pro 用户)
- NFT 经济: ¥4060 万(假设每月 5 万次铸造)
- API/企业: ¥840 万
- **总计**: ~¥6580 万 ARR

---

## 🎯 目标市场

### 消费者(C端)
- 🎨 AI 艺术创作者和收藏家
- 📸 照片修复爱好者
- 🎮 NFT 交易者和投机者
- 📱 社交媒体内容创作者

### 企业(B端)
- 🎬 影视/广告制作公司
- 🏛️ 博物馆和文化机构
- 🎓 教育平台
- 💻 开发者(通过 API)

---

## 🚀 开发路线图

### ✅ 阶段 1: MVP(完成)
- [x] 三个时间引擎(回溯、折射、预见)
- [x] 真实 AI 图像生成(Google Gemini)
- [x] Solana 钱包集成
- [x] NFT 铸造基础设施
- [x] IPFS 存储集成

### ✅ 阶段 2: 游戏化(完成)
- [x] 带熵系统的活 NFT
- [x] 冻结和加速机制
- [x] 每日时空胶囊谜题游戏
- [x] 用于社交分享的 Solana Blinks

### ✅ 阶段 3: 时间线战争(完成)
- [x] NFT 质押系统
- [x] 战力计算算法
- [x] 奖池分配
- [x] 获胜者/失败者徽章系统
- [x] 实时战斗统计
- [x] 派系主题生成

### 🔄 阶段 4: 打磨与发布(进行中)
- [ ] 主网部署
- [ ] 智能合约审计
- [ ] 增强的移动体验
- [ ] 社交功能(评论、点赞)
- [ ] 用户档案和统计

### 🔮 阶段 5: 扩展(计划中)
- [ ] 时代的自定义 LoRA 训练
- [ ] 视频生成(照片到视频)
- [ ] VR/3D 场景生成
- [ ] 面向开发者的 API 市场
- [ ] "B 时间线上的今天"内容系列
- [ ] 企业集成(博物馆、教育)
- [ ] 多链支持(Ethereum、Base)

---

## 📄 许可证

MIT 许可证 - 详见 [LICENSE](./LICENSE) 文件。

---

## 🙏 致谢

- **OpenBuild Hackathon** - 提供机会和灵感
- **Solana 基金会** - 提供区块链基础设施
- **Google AI** - 提供 Gemini Imagen API
- **Pinata** - 提供专业 IPFS 固定服务
- **Metaplex** - 提供 NFT 标准和工具

---

## 📞 联系与链接

- **GitHub**: [github.com/x2v-co/timepics](https://github.com/x2v-co/timepics)
- **在线演示**: 黑客松后即将推出
- **Twitter**: 使用 #TimePicsAI 分享你的创作

---

<div align="center">
  <h2>✨ 渲染任意时刻。永久拥有。✨</h2>
  <p><strong>TimePics.ai - 用 AI 重现时间的每一个瞬间</strong></p>
  <p>用 ❤️ 为 OpenBuild Hackathon 2026 打造</p>
</div>
